import{_ as c,c as o,o as r,a as s,w as h,v as d,F as u,r as m,t as i}from"./index-iuENcq69.js";const p={data(){return{poems:[],page:1,limit:10,searchQuery:""}},async created(){await this.fetchPoems()},methods:{async fetchPoems(){this.poems=await getPoems(this.page,this.limit)},async searchPoems(){this.searchQuery.trim()?this.poems=await searchPoems(this.searchQuery):await this.fetchPoems()},viewPoemDetail(l){this.$router.push(`/poem/${l}`)},async nextPage(){this.page++,await this.fetchPoems()},async prevPage(){this.page>1&&(this.page--,await this.fetchPoems())}}},g={class:"poem-list"},P={class:"search-box"},_={class:"poem-grid"},v=["onClick"],y={class:"author"},f={class:"content"},w={class:"meta"},x={class:"pagination"},k=["disabled"];function b(l,t,Q,C,n,a){return r(),o("div",g,[t[4]||(t[4]=s("h1",null,"诗词赏析",-1)),s("div",P,[h(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.searchQuery=e),placeholder:"搜索诗词或作者...",onInput:t[1]||(t[1]=(...e)=>a.searchPoems&&a.searchPoems(...e))},null,544),[[d,n.searchQuery]])]),s("div",_,[(r(!0),o(u,null,m(n.poems,e=>(r(),o("div",{key:e.id,class:"poem-card",onClick:D=>a.viewPoemDetail(e.id)},[s("h3",null,i(e.title),1),s("p",y,i(e.authors?.name),1),s("p",f,i(e.content.substring(0,20))+"...",1),s("div",w,[s("span",null,i(e.dynasty)+"·"+i(e.genre),1)])],8,v))),128))]),s("div",x,[s("button",{onClick:t[2]||(t[2]=(...e)=>a.prevPage&&a.prevPage(...e)),disabled:n.page===1},"上一页",8,k),s("span",null,"第 "+i(n.page)+" 页",1),s("button",{onClick:t[3]||(t[3]=(...e)=>a.nextPage&&a.nextPage(...e))},"下一页")])])}const F=c(p,[["render",b],["__scopeId","data-v-e339d927"]]);export{F as default};
